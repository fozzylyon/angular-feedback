(function(){angular.module("angular-feedback",[]).directive("feedbackWidget",["$http","$window",function(a,b){return{restrict:"E",scope:{url:"@",successMessage:"@"},link:function(c,d){var e=angular.element(b),f=d.find(".mod")[0].clientWidth/2;return c.feedback={},c.open=!1,c.submitFeedback=function(){a.post(c.url,{feedback:c.feedback})},c.close=function(){c.feedback.comment="",c.open=!1},e.bind("resize",function(){c.open&&(d.find(".mod").css("left",e.outerWidth()/2-f+"px"),c.$apply())}),c.$watch("open",function(a){return a?(d.find(".mod").css("left",e.outerWidth()/2-f+"px"),d.find("textarea#feedbackInput").focus()):void 0})},template:"<div><div class='overlay' ng-show='open'></div><div class='mod' ng-show='open'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' ng-click='close()'>&times;</button><h4 class='modal-title'>Feedback</h4></div><div class='modal-body'><form name='feedback' role='form' class='form-horizontal' ng-model='feedback.comment' ng-submit='submitFeedback()''><div class='form-group'><label class='control-label sr-only' for='feedbackInput'>Feedback</label><textarea id='feedbackInput' class='form-control' row='3' ng-model='feedback.comment' placeholder='Leave any feedback'></textarea></div></div><div class='modal-footer'><button class='btn btn-primary' type='submit'>Submit</button><button class='btn btn-default' type='button' ng-click='close()'>Cancel</button></div></form></div></div></div><button ng-click='open=!open;' class='feedback-launch btn btn-success'>Feedback</button></div>"}}])}).call(this);